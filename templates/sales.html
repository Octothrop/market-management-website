<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales and Requests</title>
    <style>
        .hidden {
            display: none;
        }
      .header{
         background: url("https://1.bp.blogspot.com/-DkYtIMzCRAo/WdgmplMhTiI/AAAAAAAAD9Y/2SUqU7LU3NcQgO_A7rJC-hFA7d6H0wgjgCLcBGAs/s1600/black%2Bvegetable%2Boct4%2B%25281%2Bof%2B1%2529.jpg");
         background-size: contain;
        height:600px;
      }
        .log {
          border-radius: 50%;
          height: 80px;
          width:80px;
          margin-top: 12px;
          margin-left: 12px;
          transition: transform 1.5s ease-out;
        }
        #toggle-sales,
        #toggle-requests {
            cursor: pointer;
            color: blue;
        }/* Float four columns side by side */
      .column {
        float: left;
        width: 23%;
        padding: 0 10px;
        justify-content: space-around;
      }

      /* Remove extra left and right margins, due to padding */
      .row {
           padding: 10 0 px;}

      /* Clear floats after the columns */
      .row:after {
        content: "";
        display: table;
        clear: both;
      }
      .card {
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        padding: 16px;
        text-align: center;
        background-color: #f1f1f1;
        margin: 10px;
      }   
      .btn{
        padding: 6px 16px;
        font-size: 16px;
        color: #f1f1f1;
        background: #2F4F4F;
        border: none;
        font-weight: 700;
        outline: none;
        border-radius: 5px;
        margin-left: 20px;
        cursor: pointer;
        transition: opacity .3s linear;
      }

      .btn:hover{
        opacity: .7;
      }

      .input {
          border-radius: 10px;
          padding: 10px;
        margin: 0.5px;
      }
      .tabs {
        float: right;
        padding: 10px;
        color: #FFF8DC;
        margin-top: 10px;
        text-decoration: none;
        font-family: 'Cascadia Code', sans-serif;
        font-weight: 400;

      }

      .tabs:hover {
        color: #F0F8FF;
        transcolor: #bbe4ce;.05);
      }

      .headi{
        font-size:250px;
        color: #BBE4CE;
      }
      .cp{
        color: #FFF8DC;
      }

      .logi{
        width: 25px;
        height: 25px;
      }

        .hi{
          padding:20px;
        }
    </style>
</head>

<body>
  <div class="header">
  <a class="tabs" href="#">Requests</a>
  <a class="button" href="{{ url_for('returner', username=username) }}"><img class="log" src="https://market-management-website--paipananya28.repl.co/static/logo1.png"></a>
    <p class="headi">Sa<span class="cp">les.</span></p>
  </div>
    <!-- Toggle buttons -->
   &nbsp;&nbsp;&nbsp;&nbsp;<p id="toggle-sales" class="hi"><img class="logi" src="https://market-management-website--paipananya28.repl.co/static/add.png"></p>
    <!-- Form to submit new sales -->
    <form id="sales-form" method="POST" action="/submit_sales/{{ username }}">
      &nbsp;&nbsp;&nbsp;&nbsp;<label for="crop">Select Crop : </label>
        <select class="input" id="crop" name="crop">
            {% for crop in crops %}
                <option value="{{ crop.cropID }}">{{ crop.cname }}</option>
            {% endfor %}
        </select>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;

        <label for="quantity">Quantity : </label>
        <input class="input" type="number" id="quantity" name="quantity" required>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;

        <label for="price">Price : </label>
        <input class="input" type="number" id="price" name="price" step="0.01" required>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;

        <button class= "btn" type="submit">Add</button>
    </form>

  <br><br><br>
    <!-- Sales section -->
  <div id="sales-section" class="hidden">
        <!-- Loop through sales_data and display rows -->
        {% for sale in sales_data %}
    <div class="column">
          <div class="card">
            <h3>{{ sale.cname }}</h3>
            <p>Qty: {{ sale.sqty }} kg</p>
            <p>Price: â‚¹{{ sale.sprice }} /kg</p>
          </div>
    </div>
        {% endfor %}
  </div>


    <!-- Requests section -->
    <div id="requests-section">
        <h2>Requests</h2>
        <!-- Include your requests table here -->
    </div>

    
  <script>
      document.addEventListener('DOMContentLoaded', function () {
          // Sales and requests sections
          const salesSection = document.getElementById('sales-section');
          const requestsSection = document.getElementById('requests-section');

          // Toggle buttons
          const toggleSales = document.getElementById('toggle-sales');
          const toggleRequests = document.getElementById('toggle-requests');

          // Form
          const salesForm = document.getElementById('sales-form');

          // Show sales by default
          salesSection.classList.remove('hidden');
          requestsSection.classList.add('hidden');
          salesForm.classList.add('hidden'); // Hide the form initially

          // Add click event listeners to toggle buttons
          toggleSales.addEventListener('click', function () {
              salesSection.classList.remove('hidden');
              requestsSection.classList.add('hidden');
              salesForm.classList.toggle('hidden'); // Toggle the form visibility
          });

          toggleRequests.addEventListener('click', function () {
              salesSection.classList.add('hidden');
              requestsSection.classList.remove('hidden');
              salesForm.classList.add('hidden'); // Hide the form when switching to requests
          });
      });
  </script>

</body>

</html>
